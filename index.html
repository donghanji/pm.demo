<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Plugins Modules</title>
<style type="text/css">
*{font-family:arial,sans-serif;}
.wellcome{font-weight:bold;font-size:24pt;color:blue;}
.wellcome .w{font-size:32pt;}
.wellcome .pm{font-size:48pt;color:#000;font-family:'微软雅黑';}
#time{font-size:12pt;color:green;}
</style>
</head>
<body>
<div class="wellcome"><span class="w">W</span>ellcome to <span class="pm">PM</span> ...<span id="time">0s</span></div>
<script type="text/javascript" src="../pm/module.js"></script>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript">
(function(){
	//test 1
	//define a module,not a file
	/*module.declare('math',function(require,exports,module){
		exports.add=function(){
			var sum = 0, i = 0, args = arguments, l = args.length;
			while (i < l) {
				sum += args[i++];
			}
			
			return sum;
		};
	});
	//define another module,not a file too
	module.declare('increment',['math'],function(require,exports,module){
		var add=require('math').add;
		exports.increment=function(val){
			return add(val,1);
		};
	});
	
	//require increment module
	var inc=module.declare('increment').increment,
		a=0;
	var t=setInterval(function(){
		a=inc(a);
		document.getElementById('time').innerHTML=''+a+'s';
	},1000);
	*/
	
	//test 2,increment module and math module are files
	//to comment out the test 1
	module.declare(['increment'],function(require){
		var inc=require('increment').increment,
			a=0;
		var t=setInterval(function(){
			a=inc(a);
			document.getElementById('time').innerHTML=''+a+'s';
		},1000);
	});
})();

</script>
</body>
</html>
